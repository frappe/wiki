{% extends "wiki/doctype/wiki_page/templates/wiki_page.html" %}

{%- block head_include %}
{{ super() }}
{{ include_style('wiki.bundle.css') }}

{{ include_style('contributions.bundle.css') }}

{% endblock -%}


{% block page_content %}
<div class='contributions-header'> My Contributions </div>

<div class="frappe-card">
	<div class="table-area">
		<div class="list-jobs table-responsive">
			{% if contributions %}
			<table class="table">
				<thead class="white">
					<tr>
						<td style="width: 20%">{{ _("Status") }}</th>
						<td style="width: 30%">{{ _("Message") }}</th>
						<td style="width: 30%">{{ _("Last update on") }}</th>
						<td style="width: 20%">{{ _("Link") }}</th>
					</tr>
				</thead>
				<tbody>
					{% for j in contributions %}
					<tr>
						<td class="worker-name"><span class="indicator-pill no-margin {{j.color}}">&nbsp;&nbsp;{{
								j.status }}</span></td>
						<td>{{ j.message }}</td>
						<td>{{ j.creation }}</td>
						<td> <a class="btn btn-default btn-xs center" href="{{ j.edit_link }}">Open Contribution</a>
						</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
			{% else %}
			<div class="no-background-jobs">
				<img src="/assets/frappe/images/ui-states/list-empty-state.svg" alt="Empty State">
				<p class="text-muted">{{ _("No Contributions Made") }}</p>
			</div>
			{% endif %}

		</div>
	</div>
</div>
{% endblock %}

{% block base_scripts %}
<script type="text/javascript" src="/assets/frappe/js/lib/jquery/jquery.min.js"></script>

<script type="text/javascript" src="/assets/js/frappe-web.min.js"></script>
<script type="text/javascript" src="/assets/js/bootstrap-4-web.min.js"></script>

{% endblock %}

{% block page_sidebar %}
{% endblock %}